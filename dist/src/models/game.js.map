{"version":3,"file":"game.js","sourceRoot":"","sources":["../../../src/models/game.ts"],"names":[],"mappings":";;;;;;;;;;;;IAEA,IAAY,UAIX;IAJD,WAAY,UAAU;QACpB,iCAAmB,CAAA;QACnB,mCAAqB,CAAA;QACrB,+BAAiB,CAAA;IACnB,CAAC,EAJW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAIrB;IAED,MAAa,WAAW;QAMtB,YAAY,IAA2B;YACrC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC5B,CAAC;KACF;IATD,kCASC;IAED,MAAa,IAAI;QAwBf,YAAY,IAAoB;YAC9B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC5B,CAAC;QAEM,MAAM,CAAC,OAAe;YAC3B,0EAA0E;YAC1E,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,SAAS,IAAI,CAAC,GAAG,IAAI,OAAO,IAAI,IAAI,CAAC,GAAG,MAAM,CAAC;QAC9E,CAAC;QAED,IAAW,SAAS;YAClB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,SAAS,IAAI,CAAC,GAAG,EAAE,CAAC;QACnD,CAAC;QAED,IAAW,EAAE;YACX,OAAO,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC;QAC5C,CAAC;QAED,IAAW,OAAO;YAChB,OAAO,GAAG,IAAI,CAAC,SAAS,eAAe,CAAC;QAC1C,CAAC;KACF;IA5CD,oBA4CC","sourcesContent":["import { User } from \"./user\";\r\n\r\nexport enum Visibility {\r\n  Private = \"Private\",\r\n  Internal = \"Internal\",\r\n  Public = \"Public\",\r\n}\r\n\r\nexport class GameVersion {\r\n  gameConfig: string[];\r\n  createdAt: string;\r\n  version: string;\r\n  commit: string;\r\n\r\n  constructor(init?: Partial<GameVersion>) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class Game {\r\n  _id: string;\r\n  serverStatus: number;\r\n  cover: string; // 封面图\r\n  tags: string[];\r\n  visibility: Visibility;\r\n  template: boolean;\r\n  thumbnails: string[];\r\n  version: string; // 当前运行的发布版本\r\n  lastVersion: string; // 最后修改版本\r\n  liked_count: number;\r\n  unliked_count: number;\r\n  recommendedLevel: number;\r\n  owner: User;\r\n  name: string;\r\n  description: string;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n  releaseVersions: GameVersion[];\r\n  pastVersions: GameVersion[];\r\n  visitsUpdateAt: string;\r\n  positiveRateUpdateAt: string;\r\n  incomeTuDingUpdateAt: string;\r\n\r\n  constructor(data?: Partial<Game>) {\r\n    Object.assign(this, data);\r\n  }\r\n\r\n  public getUri(version: string) {\r\n    // mjxmjx\\game\\5f1a49e2b5ad7b67aae31170\\0.0.4\\5f1a49e2b5ad7b67aae31170.zip\r\n    return `${this.owner.username}/game/${this._id}/${version}/${this._id}.zip`;\r\n  }\r\n\r\n  public get directory() {\r\n    return `${this.owner.username}/game/${this._id}`;\r\n  }\r\n\r\n  public get pi() {\r\n    return `${this.directory}/${this._id}.pi`;\r\n  }\r\n\r\n  public get package() {\r\n    return `${this.directory}/package.json`;\r\n  }\r\n}\r\n"]}